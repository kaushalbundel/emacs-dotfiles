<p>
I’ve just had another of my occasional workflow epiphanies where I suddenly realize that some tedious routine task I regularly perform could easily be automated. In this case, only partially automated but one step at a time.
</p>
<p>
Everyday, I take a measurement and record the result in a notebook<sup><a class="footref" href="http://irreal.org/blog/?tag=emacs&amp;feed=rss2#fn.1" id="fnr.1">1</a></sup>. Every other Sunday I copy the measurements from my notebook into a file. I’ve been maintaining that file since before I started using Emacs so it doesn’t follow the conventions that I use now. In particular, each entry has a date with the format mm/dd/yy.
</p>
<p>
It’s really a pain to enter those dates. I realized that I could easily use a macro to enter them. My idea was to put the <code>dd</code> value in a macro counter and let the macro increment it for me for each new entry. Here’s my new procedure:
</p>
<ul class="org-ul">
<li>I use <kbd>Ctrl</kbd>+<kbd>x</kbd> <kbd>Ctrl</kbd>+<kbd>k</kbd> <kbd>Ctrl</kbd>+<kbd>f</kbd> to set the counter format to <code>%02d</code> so that each <code>dd</code> entry will be exactly two digits.</li>
<li>I use <kbd>Ctrl</kbd>+<kbd>x</kbd> <kbd>Ctrl</kbd>+<kbd>k</kbd> <kbd>Ctrl</kbd>+<kbd>c</kbd> to set the counter to the day number of the first entry’s date.</li>
<li>I define the macro by pressing <kbd>F3</kbd> <code>mm/</code> <kbd>Ctrl</kbd>+<kbd>x</kbd> <kbd>Ctrl</kbd>+<kbd>k</kbd> <kbd>Ctrl</kbd>+<kbd>i</kbd> to enter the day number, and then finish the macro with <code>/yy</code> <kbd>F4</kbd>.</li>
</ul>
<p>
It seems like a small thing but it really makes entering the data easier. Of course, what I <i>actually</i> thought was that I should write a function to do the date automatically but dealing with dates is a pain and what’s really needed here is a closure so that subsequent dates can be returned. That’s possible and I may do it eventually, but in the meantime, the macro is a big improvement.
</p>
<p>
<b>Afternote</b>
</p>
<p>
After I wrote this, Marcin Borkowski wrote a <a href="https://mbork.pl/2024-03-02_Some_tips_about_Emacs_keyboard_macros">nice post on using keyboard macros</a> that reminded me that you can use <kbd>F3</kbd> instead of <kbd>Ctrl</kbd>+<kbd>x</kbd> <kbd>Ctrl</kbd>+<kbd>k</kbd> <kbd>Ctrl</kbd>+<kbd>i</kbd> to insert the counter value. I use counters in keyboard macros so seldomly that I’d forgotten that.
</p>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">
<div class="footdef"><sup><a class="footnum" href="http://irreal.org/blog/?tag=emacs&amp;feed=rss2#fnr.1" id="fn.1">1</a></sup> <p></p>
<div class="footpara">
<p class="footpara">
Don’t ask. It’s my sole remaining use of pencil &amp; paper for record keeping.
</p>
</div>
</div>
</div>
</div>