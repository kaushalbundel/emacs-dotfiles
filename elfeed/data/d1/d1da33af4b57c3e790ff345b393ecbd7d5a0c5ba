<p>The third week of my batch at <a href="https://www.recurse.com/">Recurse Center</a> is finished.
It is still flying by too quickly.
Nine weeks left!</p>
<p>This week was a whirlwind and really busy.
I think I pushed myself too hard.
I had just recovered from my cold and was a little drained, and then got my COVID booster and flu shot, which really knocked me out.
But I got a lot done, and I'm going to focus on self-care a little bit more next week.</p>
<p>The most exciting thing this week is probably that I'm taking a turn back toward math!
I joined the category theory group at RC (&quot;Category Theory Catacombs&quot;) where we're working through the <a href="http://brendanfong.com/programmingcats.html">Programming with Categories</a> course.
This was a little intimidating to me before I started it, because it's been the better part of a decade since I have attended a math lecture.
For some reason I decided to join since I was taking an easy day &quot;off&quot; after my vaccine, so I would just watch some math lectures.</p>
<p>It turned out to be the highlight of my week and reminded me the joy of approaching things from a mathematical perspective.
I need more of this in my life, so a few of us are also going to start exploring <a href="https://en.wikipedia.org/wiki/Proof_assistant">theorem provers</a> and working through <a href="https://leanprover.github.io/theorem_proving_in_lean/">Theorem Proving in Lean</a>.
I'm so excited to continue going down this path.</p>
<p>Besides that, I did get some things done that I'm pretty proud of:</p>
<ul>
<li>Implemented INCR/DECR in <a href="https://github.com/ntietz/anode-kv">anode-kv</a></li>
<li>Benchmarked anode-kv against redis and found very favorable results (we will see how these hold up over time though, as features get added!)</li>
<li>Had at least one pairing session a day and at least one coffee chat a day</li>
<li>Wrapped up the <a href="https://github.com/ntietz/patzer/pull/1">first pass</a> at a GUI frontend for <a href="https://github.com/ntietz/patzer">patzer</a> (my chess program)</li>
<li>Fixed an irritating boot drive issue with my server, so now it doesn't need to be babysat after a reboot</li>
</ul>
<p>I have some capital-T Thoughts about immediate mode GUIs now, and the particular one I'm using, but those are best saved for another blog post that may or may not come to fruition.
I don't know how coherent those thoughts are, but I'm pretty frustrated right now with this library.
I'm proud of where I've gotten with it, though!</p>
<p>I'm also really proud of anode-kv so far.
The core architecture is based on what I read in <a href="/blog/review-architecture-of-a-database-system/">Architecture of a Database System</a>, and it seems to be effective!
Right now it can pass 1.7 GB/s through it in my test environment, contrasting with 360 MB/s for redis (with durability off, for a more fair comparison).
The bulk of the time is spent in network syscalls and memory allocation/deallocation.
I think there's room to speed things up, but also... there will be more pressing, more important performance problems after <a href="https://github.com/ntietz/anode-kv/pull/5">implementing durable storage</a>.</p>
<p>One of my big takeaways with my performance work at RC so far has been reinforcing a couple of things I've heard before:</p>
<ul>
<li><strong>Estimate bounds before you benchmark:</strong> Estimating theoretical bounds or pragmatic &quot;good enough&quot; bounds before benchmarking is helpful for understanding both (1) if your benchmark is working, and (2) if it indicates good enough or a problem.</li>
<li><strong>Profile before you optimize:</strong> I expected the memory copies that I do to be expensive, but it turns out that they're not so bad in terms of the overall performance.</li>
</ul>
<p>It might be a fun exercise to profile redis itself to see what it's doing that's
making it slower than anode-kv. Maybe that's on the docket for the next week or two!</p>
<h1 id="what-s-next-week">What's next week?</h1>
<p>Okay, so next week I want to:</p>
<ul>
<li>Keep pairing every day, keep coffee chats every day</li>
<li>Make progress on <a href="https://github.com/ntietz/patzer">patzer</a>:
<ul>
<li>Implement basic board evaluation (dumb strategy first: material count)</li>
<li>Implement one slightly better search algorithm like minimax</li>
</ul>
</li>
<li>Make progress on <a href="https://github.com/ntietz/anode-kv">anode-kv</a>:
<ul>
<li>Implement durable storage and see how it performs (naive implementation first!)</li>
<li>Implement set and hash operations</li>
</ul>
</li>
<li>Read another <a href="https://redbook.io">Red Book</a> paper</li>
<li>Learn some category theory</li>
<li>Learn some Lean</li>
<li>Go to some of the fun/weird/quirky programming events</li>
</ul>
<p>But I'm going to be more flexible than usual with my plans next week.
I'll be visiting family in Ohio, and my wife's going to a conference, so I might be off kilter or interrupted more.
And that's fine!</p>
<hr />
<p>That's all for this week.
It's been a long week, and I have to go pack up to travel tomorrow and get some sleep.
I hope you have a great rest of your weekend!</p>
